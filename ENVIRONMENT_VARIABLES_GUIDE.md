# Environment Variables Configuration Guide

## üìã Complete List of Environment Variables

### ‚úÖ Required Variables (Already Configured on Vercel)

#### 1. **DATABASE_URL**
- **Purpose**: PostgreSQL database connection string for Prisma ORM
- **Current Value**: `postgresql://role_1691fe1a06:plDusYQqd8Y_46dl32y6aN94CD5B47tb@db-1691fe1a06.db002.hosteddb.reai.io:5432/1691fe1a06`
- **Status**: ‚úÖ Set on Vercel (Production, Preview, Development)
- **Note**: Database schema is already migrated and in sync

#### 2. **NEXTAUTH_SECRET**
- **Purpose**: Secret key for JWT token encryption in NextAuth.js
- **Current Value**: `xL6J2k+ISRAKjKRJp516TP7gjhkD9UcgDBt7cXMxzhQ=`
- **Status**: ‚úÖ Set on Vercel (Production, Preview, Development)
- **Generate New**: `openssl rand -base64 32`

#### 3. **NEXTAUTH_URL**
- **Purpose**: Canonical URL for OAuth callbacks
- **Production Value**: `https://google-ai-studio2.vercel.app`
- **Local Development**: `http://localhost:3000`
- **Status**: ‚úÖ Set on Vercel

#### 4. **GOOGLE_CLIENT_ID**
- **Purpose**: Google OAuth Client ID
- **Current Value**: `1091088076036-aqvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv.apps.googleusercontent.com`
- **Status**: ‚úÖ Set on Vercel
- **Get From**: [Google Cloud Console](https://console.cloud.google.com/apis/credentials)

#### 5. **GOOGLE_CLIENT_SECRET**
- **Purpose**: Google OAuth Client Secret
- **Current Value**: `GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxxx`
- **Status**: ‚úÖ Set on Vercel
- **Get From**: [Google Cloud Console](https://console.cloud.google.com/apis/credentials)

---

### üîß Optional Variables (Already Configured on Vercel)

#### 6. **NEXT_PUBLIC_SUPABASE_URL**
- **Purpose**: Supabase project URL (for additional features)
- **Status**: ‚úÖ Set on Vercel
- **Public**: Yes (accessible in browser)
- **Get From**: [Supabase Dashboard](https://app.supabase.com/project/_/settings/api)

#### 7. **NEXT_PUBLIC_SUPABASE_ANON_KEY**
- **Purpose**: Supabase anonymous/public key
- **Status**: ‚úÖ Set on Vercel
- **Public**: Yes (accessible in browser)
- **Get From**: [Supabase Dashboard](https://app.supabase.com/project/_/settings/api)

#### 8. **SUPABASE_SERVICE_ROLE_KEY**
- **Purpose**: Supabase service role key (server-side only)
- **Status**: ‚úÖ Set on Vercel
- **Security**: Private (server-side only)
- **Get From**: [Supabase Dashboard](https://app.supabase.com/project/_/settings/api)

#### 9. **ABACUSAI_API_KEY**
- **Purpose**: Abacus.AI API key for AI features
- **Status**: ‚úÖ Set on Vercel
- **Get From**: [Abacus.AI Dashboard](https://abacus.ai)

---

### üñ•Ô∏è System Variables (Auto-generated by Next.js/Vercel)

#### 10. **NODE_ENV**
- **Purpose**: Environment mode (development/production)
- **Value**: Automatically set by Vercel
- **Local Development**: `development`
- **Production**: `production`

#### 11. **VERCEL** & **VERCEL_URL**
- **Purpose**: Vercel deployment detection and URL
- **Value**: Automatically set by Vercel platform
- **Note**: Used internally by Next.js

---

## üìÅ Local Development Setup

### .env File Location
```
/home/ubuntu/ai_studio_clone/nextjs_space/.env
```

### Current .env Contents
```bash
# Database Configuration
DATABASE_URL="postgresql://role_1691fe1a06:plDusYQqd8Y_46dl32y6aN94CD5B47tb@db-1691fe1a06.db002.hosteddb.reai.io:5432/1691fe1a06"

# NextAuth.js Configuration
NEXTAUTH_SECRET="xL6J2k+ISRAKjKRJp516TP7gjhkD9UcgDBt7cXMxzhQ="
NEXTAUTH_URL="http://localhost:3000"

# Google OAuth Configuration
GOOGLE_CLIENT_ID="1091088076036-aqvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxxx"

# Development Mode
NODE_ENV="development"
```

---

## üöÄ Vercel Environment Variables Status

All required environment variables are configured on Vercel for:
- ‚úÖ **Production** environment
- ‚úÖ **Preview** environment
- ‚úÖ **Development** environment

### View/Edit on Vercel Dashboard
https://vercel.com/seans-projects-eadbd219/nextjs_space/settings/environment-variables

---

## üîç Database Status

- **Connection**: ‚úÖ Accessible
- **Schema**: ‚úÖ Migrated and in sync
- **Tables Created**: ‚úÖ All tables exist
- **Command Used**: `npx prisma db push`

### Database Tables
- User
- Account
- Session
- VerificationToken
- Project
- File
- ChatMessage

---

## ‚ö†Ô∏è Current Issue: Server-Side Runtime Error

The application is showing: `Application error: a server-side exception has occurred`

### Possible Causes:
1. ‚ùì Google OAuth redirect URI not configured properly
2. ‚ùì Database connection pooling issues on Vercel
3. ‚ùì Missing AUTH_SECRET or AUTH_TRUST_HOST variables
4. ‚ùì Prisma client initialization issue

### Next Steps to Debug:
1. Check Vercel Runtime Logs: https://vercel.com/seans-projects-eadbd219/nextjs_space
2. Verify Google OAuth Settings:
   - Authorized JavaScript origins: `https://google-ai-studio2.vercel.app`
   - Authorized redirect URIs: `https://google-ai-studio2.vercel.app/api/auth/callback/google`
3. Add AUTH_SECRET variable (alias for NEXTAUTH_SECRET)

---

## üõ†Ô∏è Quick Commands

### Generate New Secret
```bash
openssl rand -base64 32
```

### Test Database Connection
```bash
cd /home/ubuntu/ai_studio_clone/nextjs_space
npx prisma db push
```

### Run Development Server
```bash
cd /home/ubuntu/ai_studio_clone/nextjs_space
yarn dev
```

### Deploy to Vercel
```bash
cd /home/ubuntu/ai_studio_clone/nextjs_space
vercel --prod
```

---

## üìû Support Resources

- **Vercel Dashboard**: https://vercel.com/seans-projects-eadbd219/nextjs_space
- **GitHub Repository**: https://github.com/sean00880/GoogleAIStudio2
- **Google Cloud Console**: https://console.cloud.google.com/apis/credentials
- **Prisma Documentation**: https://www.prisma.io/docs
- **NextAuth.js Documentation**: https://next-auth.js.org/configuration/options

---

**Last Updated**: October 29, 2025
